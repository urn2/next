

<style type="text/css">
#ns_error {width: 100%; margin: 0 auto;background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANextUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAwMy8yMC8xMEzun9wAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzQGstOgAAAAoklEQVQ4jeWRQRUCMQxEP2AACUhYCZXAkSNextVkIlIAEJlVAJi4M6KAdmH7N9gTuPXPKamcw0Cfx8HJRn5WXAZ6DY+wxcgCRu2wnowAOYgGYNHVg5VVgBjhLITsxesDpyrN9G6aaaAoFTgH10WiTmdceKBEMB2I7SRyJwjX7jRB8lEoDXNQrAPgCbXG5Wm9S0RmI4eeSU2S6x6t2BO+89/X08ASRwLdHNdsfOAAAAAElFTkSuQmCC) no-repeat scroll right top;}
#ns_error * {color: #000; font-family: 'Courier New', tahoma, Arial, '微软雅黑', '新宋体'; font-size: 12px; margin: 0; padding: 0; border-collapse: collapse;}
#ns_error dl a {text-decoration: none; color: #6989BC;}
#ns_error .info{margin:0 0 1em 0;padding:1.5em 0;overflow: hidden;position: relative;display:block;}
#ns_error .waring{background: url(data:image/gif;base64,R0lGODlhMgAyALMAAJzC77TR89Tk+Mfd9vP3/aLG8Obw+67N8rvV9ODs+s3g9/n7/t7m9wAAAAAAAAAAACH5BAEHAAsALAAAAAAyADIAAAT/cMlJ6zQqFMB7CYphjWQ5JUOnruqQmPDIbGzNFkwcG8c9hIZgUDGgqQ4i3SilKigIMYLCyBkoKz1P7iqZHbkGo5NrmXqSsHAHSR7xzjEjom1CeGBZgJVuYgIOJX5zOmYAAVAwdlVua0p+HAU6eWgTWQWUJQY1Cjs0gBQMHZyENQGkHFsSNJFKmiyjcZAnHak7NZgloRwvC0ysVzVcNHuiZFSGXAodC64AiFcBK7A6BB0YsmTKKrgwNBmLZAJNbUwaHNOtKoPJkNZ0KgJtze5t2/Is3DHRAL9g+HSK1vlbkQ+Gtnj3CNJJwKGgiWbe6Gjqx47fvj31BHIpp43ilQIIn9t4a/aMSwCHJao1XFCsDbor2gBI8MWHzzAJDFHVJKMLAK8Fq8hh/IitS0tH4JTErLXAEsoJj5hm8mSh2ScYj3ZJoldBUIysAJ4q0lMiz9ARBKhoXNLIhJw0+0wlupPGCJudzPJc0qEG0stkYp5SyMNPagwvbclkdVKShJRjZ8EQhvRDiBAix/4IhoHYhufCeCug+MzCRehMGTJ/CNEmAgA7) no-repeat 10px 30px;}
#ns_error .error{background: url(data:image/gif;base64,R0lGODlhMgAyALMAAJzC77TR8+Ds+s3g96LG8PP3/dro+a7N8rvV9Mfd9ubw+/n7/gAAAAAAAAAAAAAAACH5BAEHAAsALAAAAAAyADIAAAT/cMlJ61QjEMA7CYNijWQ5CUinrioimPBobGzNEkYcK8eNhIpgcICgqQ4i3SixIgwKscLAyEkoKz1P7iqZHbkKo5NrmXqSsHAHSR7xzjEjom1KcQiwLGBOr69LTBx8fX5Vbn8TB4N9CGh6aIl3aHaLYBt4EmoABxUGHQNYgm2aiwMdWxI0mBQFNJxXXnsWqienbq5KnqIWugAvC3arvIgmgbIkNHyfJqYcryR2xyTNAAsKHVCFAASQEwHEJAUdGHc6etyhzjo0Gbsx50mam0p2GhygOvLanguage8s8xzUbdTFzzIAYMi4AmeqlAd2WgCoTMDpJxOI6MwnsTJTa0gSqfxnxiyxZCPHQHI8gzCglk83fnm7Q8cBYo7FcIRLl3a1bKVBFg3T2HOkfooZlJDgxxHEQsKxGN6AUjHct0kBCMaYdKFuT9GpFMggBbUt2ZKJCFYacOW2mdNamkLNebXZbG5RDVnDoK1KKWRQO2jR181nBVcPhsxkgdCPo9WnKVEIxoVkjoweqYKri3YisD87DDCJvKbySdvAOYjhnRV/Rsqxsj1l0yxkgHHSGFCoDIdEIv/CFECBHbmw7nAm7jBmtCKIrXcKG5BAZ7TUAIHxEBADs=) no-repeat 10px 30px;}
#ns_error .info dt{display: inline;margin: 0;padding:40px 0 43px 75px;font-size: 156%;font-weight: bold;}
#ns_error .content dt{background: #EBEFF9;border-top: 1px solid #B5C7DE;font-size: 99%;padding:3px 0 2px 2px;width: 100%;}
#ns_error .content dd{background: #F4F6FC;border-bottom: 1px solid #EDEFF5;font-size: 89%;padding:0.8em -10px 0.8em 10px;}

#ns_error .trace dl {clear: both;}
#ns_error .trace dl dt {float: left; padding: 1px 0 0 5px}
#ns_error .trace dl dd {width: 75px; float: right; text-align: right; padding-right: 5px;}
#ns_error dl.tvll {float: right;clear:both;display:block;}
#ns_error .trace div {clear: both; display: block;}
#ns_error .trace div div {display: none; margin-left: 2%; margin-bottom: 1px;}
#ns_error .trace dl dd.progress {overflow: hidden; width: 500px; font-size: 0;}
#ns_error .trace dl dd.progress * {margin: 0; padding: 0; float: left; width: 0; display: block; border: 0;}
#ns_error .trace div:after,#ns_error .trace dl:after,#ns_error .trace dl.header:after {content: "."; display: block; height: 0; clear: both; visibility: hidden;}
#ns_error .trace dl.tvll {padding: 0; width: 100%;}
#ns_error .trace dl.tvll dd {width: auto;}
#ns_error .trace dl.tvll a {padding: 3px 8px; display: block; text-align: center;}
#ns_error .trace dl.tvll:hover a {background-color: #EBEFF9;}
#ns_error .trace dl.tvll a:hover {background-color: #9CC2EF; color: #000;}
#ns_error .trace dl.header {border-top: 1px solid #9CC2EF; background-color: #EBEFF9; font-weight: bold; padding: 3px 0;}
#ns_error .trace dl.header dt {padding-left: 20px; background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANextUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAsZJREFUeNpkU11IFFEU/ubOndnZ2TbT0jUDta0INKRfKg0iCqGXyCCoIKuHiCD6eSjoKageCkLQHqIfbCOL/qDegiDrrRc1sSjF6iHUSkpW13XXmbkznXt3VxQHvjl37tzznfOdc65WsebA7lBk0RXDMDcwnYNpQABCEKiFXMv3zDdZX4gu10lf/NmT6OShSMn9sG3HrHAYhsnpMIPvC4KHgCwtyE9DoDEi19Xa9/2N7rT9kMiqOTeMmGWHYUci0CmDhvVVaG6qx4rqcnmQEKC77zvan3aib2AEjIcASabr5RQtTpbBMAzI9C+caMTLanguage/sQr4pBCB/X2zogiKCuphotl45hx5Y4PHdKSZLBHMdZyAq6GtZVoXFbrYqYg4/bd9sVkYRHOH9yPyoWG3Czk0qi67qMySJJzYebtion4eccZGT5iNl7hD27NmF6KkmZZJBMJil/kE7hIV4ZU06zHRRBPrrck7Z+81oimIDrZDE2NsZZ4M+PUnCSz5eBH3NIbCq452QgXBepVEpnqr1ivrMQAh3trTh09BS+5kkkhoZ/K/0S2WyWaiBToN529X2bSbNAsjJejcSdFhw5fnaGoPvjJzqemwfLsnwqYq5YiWfv5mgtOMSXV+H9mxdqf3xiEolHL2kWwmDMQDQaFaoGAU1fX/8IrrU9yXcgT+TnuiH3xidSuHkrgb/jWXAzQrNkoaSkRHA/8FUOmm7g7YdB9A/ewMG921FXuwo04hj59Qc9vZ/x4PEr/EtmYdrF0ENRIuAoLS0NcSrgsB8EywLSxYwwhkancLX1OZxMCp6XUfdBk/+4hdCCMooeVRKssDlumuYSvrSs6HQqK+55jlfMOBWHhShCEQxpPUeOqZIoI8p7EOimdE6fad75mhLnGo3xalrUECqpdTZ9a7I96XRal9bzPI3uSiArbtu2IMs4l7cWo4Te/wIMAJiCzbwLZfteAAAAAElFTkSuQmCC) no-repeat scroll 3px 1px;}
#ns_error .trace div {border: 1px solid #CDCDCD; border-width: 0 0 1px 0;}
#ns_error .trace div div {border-width: 1px 0 1px 0;}
#ns_error .trace dl:hover {background-color: #F4F6FC;}
#ns_error .trace dl dd.progress {padding: 1px 0; border-left: 1px solid #CDCDCD; border-right: 1px solid #fff;}
#ns_error .trace dl dd.progress div.progress {background: #9CC2EF;}
#ns_error .trace dl dd.progress div.progress_before {border: 0px soild #9CC2EF; border-width: 0px 0; background: #CDCDCD; background: #F4F6FC; clear: none;}
#ns_error .trace dl dd.progress div.progress_width {background: #9CC2EF; clear: none;}

#ns_error .trace dl dd.file{width:40%;text-align:left;}
#ns_error_trace {/*display:none;*/}

#ns_error .trace *:after{content:"";display:block;height:0;clear:both;visibility:hidden;}

</style>
<div id="ns_error">
	<dl class='info'>
		<dt class='waring'><?=$error?>&nbsp;</dt>
		<dd><?=$description?>&nbsp;</dd>
	</dl>
<?php	if (!empty($line) || !empty($file)):?>
	<dl class='content'>
		<dt><?=Next::Language('core.error_file_line', $file, $line)?>&nbsp;</dt>
		<dd><?=$message?>&nbsp;</dd>
	</dl>
<?php	endif ?>
<?php	if (___DEBUG && !empty($trace)):?>
<script>
function _error_trace(){
	var e=document.getElementById('ns_error_trace');
	if( e!=null){
		e.style.display =((e.style.display =='') | e.style.display =='none') ?'block' :'none';
	}
}
</script>
	<dl class='tvll'>
		<dd><a href=# onclick='_error_trace();return false;'><?=Next::Language('core.stack_trace')?>&nbsp;</a></dd>
	</dl>
	<div id='ns_error_trace' class='trace'>
		<dl class='header'>
			<dt><?php	echo Next::Language('core.error_trace_title'); ?>&nbsp;</dt>
			<dd class='file'><?php	echo Next::Language('core.error_trace_file'); ?>&nbsp;</dd>
			<dd class='line'><?php	echo Next::Language('core.error_trace_line'); ?>&nbsp;</dd>
		</dl>
<?php 		//krsort($_trace);		?>
<?php 		foreach ($trace as $_info) {?>
		<dl>
			<dt><?php
				if (!empty($_info['class'])) echo $_info['class'];	
				if (!empty($_info['type'])) echo $_info['type'];	
				if (!empty($_info['function'])){
					echo $_info['function'];
					echo '(';
					if (!empty($_info['args'])){
						foreach ($_info['args'] as &$_arg) {
							$_arg =var_export($_arg, true);
						}
						echo implode(', ', $_info['args']);
					}
					echo ')';
				}
?>&nbsp;</dt>
			<!--dd class='file'><?php echo (isset($_info['file'])) ? $_info['file'] :'';?></dd-->
			<dd class='file'><?php echo (isset($_info['file'])) ? $_info['file'] :'';?>&nbsp;</dd>
			<dd class='line'><?php echo (isset($_info['line'])) ? $_info['line'] :''?>&nbsp;</dd>
		</dl>
<?php 		}	?>
	</div>
<?php	endif ?>
</div>